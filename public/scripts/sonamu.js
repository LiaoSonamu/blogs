!function e(t,r,a){function s(o,n){if(!r[o]){if(!t[o]){var c="function"==typeof require&&require;if(!n&&c)return c(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return s(r||e)},l,l.exports,e,t,r,a)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<a.length;o++)s(a[o]);return s}({1:[function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=null,i={mouseWheel:!0,scrollbars:!0,bounce:!1,interactiveScrollbars:!0},o={Accept:"application/json","Content-Type":"application/json"},n={showBox:"filter",searchData:{keywords:"",nature:"all",sort:{id:"date",type:"desc"},filter:{type:"",id:""}},filterData:{articles:[]},folderData:{state:0,tags:[],categories:[]},userData:{state:0,login:{username:"",checkUsername:!0,password:"",checkPassword:!0},register:{codeTime:0,username:"",checkUsername:!0,password:"",checkPassword:!0,email:"",checkEmail:!0,code:"",checkCode:!0},reset:{codeTime:0,email:"",checkEmail:!0,password:"",checkPassword:!0,code:"",checkCode:!0},userinfo:null}},c=function(){fetch("/folder/lists").then(function(e){return e.json()}).then(function(e){if(-1===e)return n.folderData.state=-1,void(n.folderData.message="服务器异常");n.folderData.state=1,Vue.set(n.folderData,"tags",e.tags),Vue.set(n.folderData,"categories",e.categories),s.$nextTick(function(){return new IScroll(".right-folder",i)})})},u=function(){n.userData.state=1,s.$nextTick(function(){return new IScroll(".right-user",i)})},l={showFolderBox:function(){this.showBox="folder",1!==this.folderData.state&&c()},showFilterBox:function(){this.showBox="filter"},showUserBox:function(){this.showBox="user",1!==this.userData.state&&u()}},d={email:/^\w+@\w+\.\w+$/,username:/^\w{3,16}$/,password:/^\w{6,16}$/,code:/^[a-z]{6}$/i},h={validateLoginUsername:function(){return this.userData.login.checkUsername=d.username.test(this.userData.login.username)},validateLoginPassword:function(){return this.userData.login.checkPassword=d.password.test(this.userData.login.password)},validateRegisterEmail:function(){return this.userData.register.checkEmail=d.email.test(this.userData.register.email)},validateRegisterUsername:function(){return this.userData.register.checkUsername=d.username.test(this.userData.register.username)},validateRegisterPassword:function(){return this.userData.register.checkPassword=d.password.test(this.userData.register.password)},validateRegisterCode:function(){return this.userData.register.checkCode=d.code.test(this.userData.register.code)},validateResetEmail:function(){return this.userData.reset.checkEmail=d.email.test(this.userData.reset.email)},validateResetCode:function(){return this.userData.reset.checkCode=d.code.test(this.userData.reset.code)},validateResetPassword:function(){return this.userData.reset.checkPassword=d.password.test(this.userData.reset.password)}},f={sendCode:function(e){var t=this,r={type:e};!this.userData[e].codeTime&&h["validate"+e.replace(/\w/,function(e){return e.toUpperCase()})+"Email"].bind(n)()&&(this.userData[e].codeTime=61,r.email=n.userData[e].email,fetch("/common/sendCode",{method:"POST",headers:o,body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(r){if(r)alert("发送验证码失败，请重试！"),t.userData[e].codeTime=0;else{t.userData[e].codeTime=60;var a=setInterval(function(){return--t.userData[e].codeTime||clearInterval(a)},1e3)}}))}};s=new Vue({el:"#app",data:n,mounted:function(){new IScroll(".layout_left",i)},methods:a({},l,h,f)}),window.vueData=n},{}]},{},[1]);
//# sourceMappingURL=sonamu.js.map
